
{% extends "common/base.html" %}

{% block title %}
  <title>Register</title>
{% endblock %}

{% block content %}
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-6">
        <div class="card my-5">
          <div class="card-header">
            <h5 class="mb-0">Register</h5>
          </div>
          <div class="card-body">
            <form method="POST">
              <div class="form-group">
                <label for="name">Name:</label>
                <input type="text" required class="form-control" id="name" name="name" value="{{name}}" placeholder="Name">
              </div>
              <div class="form-group">
                <label for="email">Email:</label>
                <input type="text" required class="form-control" id="email" name="email" value="{{email}}" placeholder="Email">
              </div>
              <div class="form-group">
                <label for="date_of_birth">Birthday:</label>
                <input type="date" required class="form-control" id="date_of_birth" name="date_of_birth" value="{{date_of_birth}}">
              </div>
              <div class="form-group">
                <label>Gender:</label>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="gender" id="male" value="male">
                  <label class="form-check-label" for="male">
                    Male
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="gender" id="female" value="female">
                  <label class="form-check-label" for="female">
                    Female
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="gender" id="unknown" value="unknown">
                  <label class="form-check-label" for="unknown">
                    Others
                  </label>
                </div>
              </div>
              <div class="form-group">
                <label for="password">Password:</label>
                <input type="password" required class="form-control" id="password" name="password" placeholder="Password">
              </div>
              <input id="user_latitude_input" type="hidden" value="0" name="location_latitude">
              <input id="user_longitude_input" type="hidden" value="0" name="location_longitude">
              <button type="submit" class="btn btn-primary">Submit</button>
              <p class="mt-3 mb-0">Already a member? <a href="{{ url_for('login') }}">Please login</a></p>
              <div class="text-danger font-weight-bold mt-3">
                {% for error in errors %}
                  <li>{{error}}</li>
                {% endfor %}
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <script>
      window.onload = function() {
          navigator.geolocation.getCurrentPosition((position) => {
          let lat = position.coords.latitude;
          let long = position.coords.longitude;
          document.getElementById("user_latitude_input").value = position.coords.latitude;
          document.getElementById("user_longitude_input").value = position.coords.longitude;
        });
      };
    </script>
  </div>
{% endblock %}